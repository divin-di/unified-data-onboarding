datasets:
 - name: UnifiedDataOnboarding
    mode: batch

# Shared Schema Definition
 schema:
   path: schemas/transaction_schema.json

 env: test

# Bronze Layer Configuration
bronze_layer:
  pipeline_id: "batch_pipeline_spark"   # Identifies your Bronze script
  spark_app_name: "UnifiedBatchIngestion"
  input:
    format: json
    path: data/input/binance_events.json
  output:
    good: data/output/bronze/good
    bad: data/output/bronze/bad
    mode: "append"

# Silver Layer Configuration
silver_layer:
  pipeline_id: "silver_pipeline_spark"  # Identifies your Silver script
  spark_app_name: "SilverPipeline"
  input:
    path: data/output/bronze/good
  output:
    path: data/silver/transactions
    mode: "overwrite"

  - name: payments
    source_type: batch_json
    input_path: data/input/payments
    schema: schemas/payment_schema.json
    dedup_keys:
      - payment_id
    bronze_path: data/bronze/payments
    silver_path: data/silver/payments
